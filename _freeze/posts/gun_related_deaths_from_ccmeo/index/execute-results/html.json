{
  "hash": "d90bf016cb768dde059d5be50ce8f3fe",
  "result": {
    "markdown": "---\ntitle: \"Characterizing Age of Victims of Gun-Related Deaths in Cook County, IL, 2017-2021\"\nauthor: \"Daniel P. Hall Riggins, MD\"\ndate: \"2022-10-02\"\ncategories: [guns, epidemiology]\ncode-fold: true\n---\n\n\n## Set-Up\n\nData was sourced from the [Cook County Medical Examiner's Office](https://maps.cookcountyil.gov/medexammaps/) and modified according to the data pipeline in [this commit](https://github.com/andtheWings/cook_county_medical_examiner/commit/ff382b3c225de239c799a47f57ca6f5db5d32c42) of my Github repository.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(lubridate)\nlibrary(ggdist)\n\ntheme_set(theme_light())\n\n# Parquet file generated from the ccme_archive_generic target in data pipeline linked above\nccme <- arrow::read_parquet(here::here(\"data\", \"ccme_archive_generic_2022_10_02.parquet\"))\n\ngsw_deaths <-\n    ccme |> \n    filter(gun_related == TRUE) |> \n    filter(death_date > ymd(\"2014-12-31\") & death_date < ymd(\"2022-01-01\")) |> \n    mutate(\n        manner = factor(manner, levels = c(NA, \"SUICIDE\", \"HOMICIDE\", \"ACCIDENT\"), ordered = TRUE),\n        race = factor(race, levels = c(\"Other\", \"White\", \"Black\", \"Asian\", \"Am. Indian\", NA), ordered = TRUE)\n    )\n```\n:::\n\n\n![Image Source: https://www.chicagotribune.com/news/ct-viz-cta-red-line-station-shooting-20200229-uaofbvsknbfv3g4xlqph4kdudi-photogallery.html](ambulance.jpg)\n\n## Age Unstratified\n\n::: {.panel-tabset}\n\n### Density \n\n\n::: {.cell hash='index_cache/html/unnamed-chunk-2_3bf42c78712c7aff06058854775a8988'}\n\n```{.r .cell-code}\ngsw_deaths |> \n    ggplot(aes(x = age)) +\n    stat_dotsinterval() +\n    labs(\n        x = \"Age\",\n        y = \"Density\",\n        caption = \"Point is 50%ile; Thick interval contains inner 66% of data; Thin interval contains inner 95%\"\n    )\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-2-1.png){width=672}\n:::\n:::\n\n\n### Deciles \n\n\n::: {.cell}\n\n```{.r .cell-code}\nquantile(gsw_deaths$age, probs = seq(0, 1, 0.1), na.rm = TRUE)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n  0%  10%  20%  30%  40%  50%  60%  70%  80%  90% 100% \n   0   18   21   23   25   28   31   36   42   55   95 \n```\n:::\n:::\n\n:::\n\n## Age Stratified by Manner of Death\n\n::: {.panel-tabset}\n\n### Density \n\n\n::: {.cell hash='index_cache/html/unnamed-chunk-4_39f7db1218f1094607f45e7b887119eb'}\n\n```{.r .cell-code}\ngsw_deaths |> \n    ggplot(aes(x = age, y = manner)) +\n    stat_dotsinterval() +\n    labs(\n        x = \"Age\", y = \"\",\n        caption = \"Point is 50%ile; Thick interval contains inner 66% of data; Thin interval contains inner 95%\"\n    )\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\n\n\n\n### Deciles\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngsw_deaths |> \n    group_by(manner) |> \n    summarise(\n        \"0th Percentile\" = round(quantile(age, probs = 0, na.rm = TRUE)),\n        \"10th Percentile\" = round(quantile(age, probs = 0.1, na.rm = TRUE)),\n        \"20th Percentile\" = round(quantile(age, probs = 0.2, na.rm = TRUE)),\n        \"30th Percentile\" = round(quantile(age, probs = 0.3, na.rm = TRUE)),\n        \"40th Percentile\" = round(quantile(age, probs = 0.4, na.rm = TRUE)),\n        \"50th Percentile\" = round(quantile(age, probs = 0.5, na.rm = TRUE)),\n        \"60th Percentile\" = round(quantile(age, probs = 0.6, na.rm = TRUE)),\n        \"70th Percentile\" = round(quantile(age, probs = 0.7, na.rm = TRUE)),\n        \"80th Percentile\" = round(quantile(age, probs = 0.8, na.rm = TRUE)),\n        \"90th Percentile\" = round(quantile(age, probs = 0.9, na.rm = TRUE)),\n        \"100th Percentile\" = round(quantile(age, probs = 1, na.rm = TRUE)),\n    ) |> \n    pivot_longer(cols = 2:12, names_to = \" \", values_to = \"value\") |> \n    pivot_wider(names_from = manner, values_from = value) |> \n    select(\n        \" \",\n        \"NA, n=39\" = \"NA\",\n        \"Accident, n=10\" = ACCIDENT,\n        \"Homicide, n=5156\" = HOMICIDE,\n        \"Suicide, n=1064\" = SUICIDE,\n    ) |> \n    knitr::kable()\n```\n\n::: {.cell-output-display}\n|                 | NA, n=39| Accident, n=10| Homicide, n=5156| Suicide, n=1064|\n|:----------------|--------:|--------------:|----------------:|---------------:|\n|0th Percentile   |        2|              3|                0|              11|\n|10th Percentile  |        7|             15|               18|              22|\n|20th Percentile  |       17|             20|               20|              27|\n|30th Percentile  |       18|             22|               22|              33|\n|40th Percentile  |       21|             27|               24|              41|\n|50th Percentile  |       24|             32|               27|              48|\n|60th Percentile  |       26|             34|               29|              55|\n|70th Percentile  |       40|             40|               32|              61|\n|80th Percentile  |       47|             51|               37|              68|\n|90th Percentile  |       59|             55|               45|              78|\n|100th Percentile |       63|             70|               88|              95|\n:::\n:::\n\n\n:::\n\n## Age Stratified by Gender\n\n::: {.panel-tabset}\n\n### Density\n\n\n::: {.cell hash='index_cache/html/unnamed-chunk-7_f040f725278202dd0f8af3dacd022aae'}\n\n```{.r .cell-code}\ngsw_deaths |> \n    ggplot(aes(x = age, y = gender)) +\n    stat_dotsinterval() +\n    labs(\n        x = \"Age\", y = \"\",\n        caption = \"Point is 50%ile; Thick interval contains inner 66% of data; Thin interval contains inner 95%\"\n    )\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n\n\n### Deciles\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngsw_deaths |> \n    group_by(gender) |> \n    summarise(\n        \"0th Percentile\" = round(quantile(age, probs = 0, na.rm = TRUE)),\n        \"10th Percentile\" = round(quantile(age, probs = 0.1, na.rm = TRUE)),\n        \"20th Percentile\" = round(quantile(age, probs = 0.2, na.rm = TRUE)),\n        \"30th Percentile\" = round(quantile(age, probs = 0.3, na.rm = TRUE)),\n        \"40th Percentile\" = round(quantile(age, probs = 0.4, na.rm = TRUE)),\n        \"50th Percentile\" = round(quantile(age, probs = 0.5, na.rm = TRUE)),\n        \"60th Percentile\" = round(quantile(age, probs = 0.6, na.rm = TRUE)),\n        \"70th Percentile\" = round(quantile(age, probs = 0.7, na.rm = TRUE)),\n        \"80th Percentile\" = round(quantile(age, probs = 0.8, na.rm = TRUE)),\n        \"90th Percentile\" = round(quantile(age, probs = 0.9, na.rm = TRUE)),\n        \"100th Percentile\" = round(quantile(age, probs = 1, na.rm = TRUE)),\n    ) |> \n    pivot_longer(cols = 2:12, names_to = \" \", values_to = \"value\") |> \n    pivot_wider(names_from = gender, values_from = value) |> \n    select(\n        \" \",\n        \"Female, n=557\" = \"Female\",\n        \"Male, n=5712\" = \"Male\",\n    ) |> \n    knitr::kable()\n```\n\n::: {.cell-output-display}\n|                 | Female, n=557| Male, n=5712|\n|:----------------|-------------:|------------:|\n|0th Percentile   |             0|            0|\n|10th Percentile  |            18|           18|\n|20th Percentile  |            20|           21|\n|30th Percentile  |            23|           23|\n|40th Percentile  |            26|           25|\n|50th Percentile  |            28|           28|\n|60th Percentile  |            32|           31|\n|70th Percentile  |            38|           35|\n|80th Percentile  |            46|           42|\n|90th Percentile  |            56|           55|\n|100th Percentile |            88|           95|\n:::\n:::\n\n\n:::\n\n## Age Stratified by Race\n\n::: {.panel-tabset}\n\n### Density\n\n\n::: {.cell hash='index_cache/html/unnamed-chunk-10_a43f7c8dfc689f2e98d48eb72bff7d3d'}\n\n```{.r .cell-code}\ngsw_deaths |> \n    ggplot(aes(x = age, y = race)) +\n    stat_dotsinterval() +\n    labs(\n        x = \"Age\", y = \"\",\n        caption = \"Point is 50%ile; Thick interval contains inner 66% of data; Thin interval contains inner 95%\"\n    )\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-10-1.png){width=672}\n:::\n:::\n\n\n\n\n### Deciles\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngsw_deaths |> \n    group_by(race) |> \n    summarise(\n        \"0th Percentile\" = round(quantile(age, probs = 0, na.rm = TRUE)),\n        \"10th Percentile\" = round(quantile(age, probs = 0.1, na.rm = TRUE)),\n        \"20th Percentile\" = round(quantile(age, probs = 0.2, na.rm = TRUE)),\n        \"30th Percentile\" = round(quantile(age, probs = 0.3, na.rm = TRUE)),\n        \"40th Percentile\" = round(quantile(age, probs = 0.4, na.rm = TRUE)),\n        \"50th Percentile\" = round(quantile(age, probs = 0.5, na.rm = TRUE)),\n        \"60th Percentile\" = round(quantile(age, probs = 0.6, na.rm = TRUE)),\n        \"70th Percentile\" = round(quantile(age, probs = 0.7, na.rm = TRUE)),\n        \"80th Percentile\" = round(quantile(age, probs = 0.8, na.rm = TRUE)),\n        \"90th Percentile\" = round(quantile(age, probs = 0.9, na.rm = TRUE)),\n        \"100th Percentile\" = round(quantile(age, probs = 1, na.rm = TRUE)),\n    ) |> \n    pivot_longer(cols = 2:12, names_to = \" \", values_to = \"value\") |> \n    pivot_wider(names_from = race, values_from = value) |> \n    select(\n        \" \",\n        \"NA, n=7\" = \"NA\",\n        \"Am. Indian, n=4\" = \"Am. Indian\",\n        \"Asian, n=33\" = Asian,\n        \"Black, n=4438\" = Black,\n        \"White, n=1742\" = White,\n        \"Other, n=45\" = Other\n    ) |> \n    knitr::kable()\n```\n\n::: {.cell-output-display}\n|                 | NA, n=7| Am. Indian, n=4| Asian, n=33| Black, n=4438| White, n=1742| Other, n=45|\n|:----------------|-------:|---------------:|-----------:|-------------:|-------------:|-----------:|\n|0th Percentile   |      20|              20|          16|             0|             2|          14|\n|10th Percentile  |      27|              26|          25|            18|            19|          19|\n|20th Percentile  |      34|              33|          28|            20|            22|          21|\n|30th Percentile  |      36|              39|          32|            23|            25|          21|\n|40th Percentile  |      39|              41|          35|            25|            29|          24|\n|50th Percentile  |      42|              41|          40|            27|            34|          27|\n|60th Percentile  |      44|              41|          45|            29|            42|          29|\n|70th Percentile  |      46|              42|          50|            32|            50|          33|\n|80th Percentile  |      48|              46|          58|            37|            59|          37|\n|90th Percentile  |      59|              50|          67|            45|            71|          43|\n|100th Percentile |      70|              54|          73|            94|            95|          66|\n:::\n:::\n\n\n:::\n\n## Age Stratified by Latino Ethnicity\n\n::: {.panel-tabset}\n\n### Density\n\n\n::: {.cell hash='index_cache/html/unnamed-chunk-13_eba61ed9e02b3a0a0ac984acf515fc52'}\n\n```{.r .cell-code}\ngsw_deaths |> \n    ggplot(aes(x = age, y = latino)) +\n    stat_dotsinterval() +\n    labs(\n        x = \"Age\", y = \"\",\n        caption = \"Point is 50%ile; Thick interval contains inner 66% of data; Thin interval contains inner 95%\"\n    )\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-13-1.png){width=672}\n:::\n:::\n\n\n### Deciles\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngsw_deaths |> \n    group_by(latino) |> \n    summarise(\n        \"0th Percentile\" = round(quantile(age, probs = 0, na.rm = TRUE)),\n        \"10th Percentile\" = round(quantile(age, probs = 0.1, na.rm = TRUE)),\n        \"20th Percentile\" = round(quantile(age, probs = 0.2, na.rm = TRUE)),\n        \"30th Percentile\" = round(quantile(age, probs = 0.3, na.rm = TRUE)),\n        \"40th Percentile\" = round(quantile(age, probs = 0.4, na.rm = TRUE)),\n        \"50th Percentile\" = round(quantile(age, probs = 0.5, na.rm = TRUE)),\n        \"60th Percentile\" = round(quantile(age, probs = 0.6, na.rm = TRUE)),\n        \"70th Percentile\" = round(quantile(age, probs = 0.7, na.rm = TRUE)),\n        \"80th Percentile\" = round(quantile(age, probs = 0.8, na.rm = TRUE)),\n        \"90th Percentile\" = round(quantile(age, probs = 0.9, na.rm = TRUE)),\n        \"100th Percentile\" = round(quantile(age, probs = 1, na.rm = TRUE)),\n    ) |> \n    pivot_longer(cols = 2:12, names_to = \" \", values_to = \"value\") |> \n    pivot_wider(names_from = latino, values_from = value) |> \n    select(\n        \" \",\n        \"True, n=897\" = \"TRUE\",\n        \"False, n=5372\" = \"FALSE\",\n    ) |> \n    knitr::kable()\n```\n\n::: {.cell-output-display}\n|                 | True, n=897| False, n=5372|\n|:----------------|-----------:|-------------:|\n|0th Percentile   |           2|             0|\n|10th Percentile  |          18|            18|\n|20th Percentile  |          20|            21|\n|30th Percentile  |          21|            23|\n|40th Percentile  |          23|            26|\n|50th Percentile  |          26|            28|\n|60th Percentile  |          28|            32|\n|70th Percentile  |          32|            36|\n|80th Percentile  |          39|            43|\n|90th Percentile  |          47|            57|\n|100th Percentile |          84|            95|\n:::\n:::\n\n\n:::\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}